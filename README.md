# 智学秘伴 - 学生事务管理系统

## 介绍

智学秘伴是一个智能化的学生事务管理与学习效率提升系统，帮助学生高效收纳和整理各类学习事务，生成个性化时间表，并通过智能提醒引导学生快速进入学习状态。

## 核心功能

### 1. 学生事务管理
- 竞赛日程记录与提醒
- 作业安排整理与截止时间管理
- 时间管控功能，设置学习时长目标
- 时间协调，自动安排学习计划
- 考研考级相关信息管理
- 日程规划与任务优先级设定

### 2. 时间表生成
- 自动生成个性化时间表
- 周视图展示学习计划
- 实时更新和同步

### 3. 智能提醒功能
- 任务截止时间提醒
- 知识点复习提醒
- 学习状态智能识别

### 4. 私人终端 - 视频推荐系统 ⭐ 新功能
- **专业匹配推荐**：根据用户专业智能推送适配的 Bilibili 学术视频
- **视频管理**：添加、收藏、标记已观看的学术视频
- **观看历史**：记录视频观看历史，方便回顾
- **标签筛选**：支持按专业标签筛选视频内容
- **个性化设置**：设置专业、年级等信息，获得精准推荐
- **多维度筛选**：按观看状态、收藏状态、专业类别筛选视频

### 5. 专属学习秘书 ✨ 最新功能
- **3D人物模型**：真正的3D可交互角色（类似3D蒂法）🎮
- **AI智能对话**：接入人工智能，像真人一样对话 🤖
- **形象定制**：6种形象类型（萝莉、御姐、大叔、霸总、学姐、学长）
- **性格定制**：5种性格类型（温柔型、严格型、活泼型、冷静型、激励型）
- **服装定制**：8套服装类型（校园风、职业装、休闲风、正式装、特殊装）
- **个性化互动**：根据性格提供不同风格的问候、提醒和鼓励
- **自定义名称**：给秘书起一个专属的名字
- **智能问候**：在仪表盘展示个性化问候语
- **语言模板**：每种性格都有独特的语言风格
- **浮窗秘书**：可拖动的屏幕浮窗，随时陪伴学习 🎯
  - 智能定位和位置记忆
  - 最小化/展开功能
  - 实时对话气泡
  - 定时自动更新消息
  - 显示3D立体人物模型
  - 一键开启AI对话

### 6. 效率提升工具
- 学习时间统计和分析
- 学习习惯养成提醒
- 知识点收藏和复习提醒
- 数据可视化图表展示

### 7. 管理员功能
- 用户管理
- 角色权限管理
- 系统数据统计

## 设计特色

- **配色方案**：采用深蓝色(#1E3A8A)与绿色(#10B981)搭配，营造专业而富有活力的学习氛围
- **视觉风格**：现代扁平化设计，8px圆角处理，柔和阴影效果增强层次感
- **布局设计**：左侧导航栏+主内容区域的经典布局，响应式设计支持移动端访问

## 使用说明

### 首次使用

1. 访问系统后，点击"注册"创建账号
2. 第一个注册的用户将自动成为管理员
3. 使用用户名和密码登录系统

### 事务管理

1. 在"事务管理"页面点击"新建任务"
2. 填写任务信息：标题、描述、类型、优先级、截止时间等
3. 系统会根据截止时间和优先级自动安排到时间表中
4. 可以随时更新任务状态或编辑任务信息

### 知识收藏

1. 在"知识收藏"页面点击"新建知识点"
2. 记录重要的学习知识点，可添加标签和来源链接
3. 点击"复习"按钮记录复习次数
4. 系统会根据间隔重复算法提醒复习时间

### 私人终端 ⭐ 新功能

1. 首次使用时，点击"设置专业"配置您的专业信息
2. 在"私人终端"页面点击"添加视频"手动添加 Bilibili 学术视频
3. 填写视频信息：标题、链接、封面、作者、时长、标签等
4. 系统会根据您的专业标签智能筛选和推荐视频
5. 点击"观看视频"跳转到 Bilibili 观看

### 专属学习秘书 ✨ 最新功能

1. 在"设置"页面找到"专属学习秘书"区域
2. 开启"启用学习秘书"开关
3. 给你的秘书起一个喜欢的名字
4. 选择秘书形象：萝莉、御姐、大叔、霸总、学姐、学长（6种）
   - 每种形象都有独特的**3D人物模型**（可交互的3D角色）🎮
5. 选择秘书性格：温柔型、严格型、活泼型、冷静型、激励型（5种）
6. 选择秘书服装：校园风、职业装、休闲风、正式装、特殊装（8套）
7. 保存配置后，返回仪表盘查看秘书的个性化问候
   - 秘书以**3D人物模型**显示，可以旋转查看
   - 点击"与秘书对话"按钮，开启**AI智能对话** 🤖
8. 秘书会根据性格提供不同风格的问候、提醒和鼓励
9. **浮窗秘书**：屏幕上会出现可拖动的浮窗秘书 🎯
   - 显示**3D立体人物模型**
   - 拖动标题栏移动位置
   - 点击最小化按钮缩小为图标
   - 点击关闭按钮隐藏浮窗
   - 浮窗位置和状态自动保存
   - 点击"与秘书对话"按钮，开启**AI智能对话**

### AI智能对话功能 🤖

1. 在仪表盘或浮窗秘书中，点击"与秘书对话"按钮
2. 打开AI对话窗口，可以看到：
   - 顶部显示3D人物模型
   - 中间是对话历史记录
   - 底部是输入框
3. 输入你的问题或想说的话，按回车或点击发送
4. 秘书会根据她的性格特点，用人类的口吻回复你
5. 对话历史会自动保存，下次打开继续聊天
6. 秘书可以帮助你：
   - 管理学习任务和时间
   - 提供学习建议和鼓励
   - 回答你的问题
   - 关心你的学习状态和心情

详细功能说明请查看 [专属学习秘书功能文档](./SECRETARY_FEATURE.md)

### 学习统计

- 查看总学习时长、完成任务数等统计数据
- 查看本周学习时长趋势图
- 查看任务类型分布图
- 获取个性化学习建议

### 时间表设置

1. 在"设置"页面配置学习偏好
2. 设置每日学习目标时长
3. 设置偏好的学习时间段
4. 配置休息时长和提醒选项

## 技术栈

- **前端框架**：React 18 + TypeScript
- **构建工具**：Vite
- **UI组件库**：shadcn/ui + Tailwind CSS
- **路由管理**：React Router
- **数据可视化**：Recharts
- **后端服务**：Supabase (数据库 + 认证)
- **日期处理**：date-fns

## 本地开发

### 环境要求

```
Node.js ≥ 20
npm ≥ 10
例如：
node -v   # v20.18.3
npm -v    # 10.8.2
```

### 安装步骤

```bash
# Step 1: 下载代码包
# Step 2: 解压代码包
# Step 3: 用IDE打开代码包，进入代码目录

# Step 4: 安装依赖
npm install

# Step 5: 启动开发服务器
npm run dev -- --host 127.0.0.1
```

### 数据库配置

本项目使用 Supabase 作为后端服务，数据库已自动配置。如需了解更多：

- 数据库表结构定义在 `supabase/migrations` 目录
- 数据库API封装在 `src/db/api.ts`
- 认证配置在 `src/contexts/AuthContext.tsx`

## 数据库结构

### 主要数据表

1. **profiles** - 用户配置表
   - 存储用户基本信息和角色权限
   - 新增：专业、年级、兴趣标签字段
   
2. **tasks** - 学生事务表
   - 存储竞赛、作业、考试等各类学习任务
   
3. **knowledge_items** - 知识点收藏表
   - 存储学习知识点和复习记录
   
4. **study_sessions** - 学习时间记录表
   - 记录学习时长和学习内容
   
5. **schedule_settings** - 时间表配置表
   - 存储用户的学习偏好设置

6. **major_tags** - 专业标签表 ⭐ 新增
   - 存储各类专业标签和分类
   - 预置30+常见专业标签

7. **video_recommendations** - 视频推荐表 ⭐ 新增
   - 存储推荐的 Bilibili 学术视频
   - 支持收藏、观看进度、标签等功能

8. **video_watch_history** - 视频观看历史表 ⭐ 新增
   - 记录用户的视频观看历史
   - 支持观看进度和笔记功能

9. **user_preferences** - 用户偏好设置表 ⭐ 新增
   - 存储用户的视频推荐偏好
   - 自动推荐设置和标签过滤
   - 新增：秘书形象配置字段

10. **secretary_avatars** - 秘书形象库表 ✨ 最新
    - 存储预置的秘书形象（6种）
    - 包含形象类型、描述、图标等信息

11. **secretary_personalities** - 秘书性格库表 ✨ 最新
    - 存储预置的秘书性格（5种）
    - 包含性格类型、语言模板等信息

12. **secretary_outfits** - 秘书服装库表 ✨ 最新
    - 存储预置的秘书服装（8套）
    - 包含服装类型、适合形象等信息

## 安全说明

- 使用 Supabase Row Level Security (RLS) 保护数据安全
- 用户只能访问和修改自己的数据
- 管理员拥有额外的用户管理权限
- 密码使用 Supabase Auth 加密存储

## 目录结构

```
├── README.md                   # 说明文档
├── components.json             # 组件库配置
├── index.html                  # 入口文件
├── package.json                # 包管理
├── postcss.config.js           # postcss 配置
├── public                      # 静态资源目录
│   ├── favicon.png            # 图标
│   └── images                 # 图片资源
├── src                         # 源码目录
│   ├── App.tsx                # 应用入口
│   ├── components             # 组件目录
│   │   ├── common            # 通用组件
│   │   ├── layouts           # 布局组件
│   │   └── ui                # UI组件库
│   ├── contexts               # 上下文目录
│   │   └── AuthContext.tsx   # 认证上下文
│   ├── db                     # 数据库配置目录
│   │   ├── api.ts            # 数据库API封装
│   │   └── supabase.ts       # Supabase客户端
│   ├── hooks                  # 通用钩子函数目录
│   ├── index.css              # 全局样式
│   ├── lib                    # 工具库目录
│   ├── main.tsx               # 入口文件
│   ├── routes.tsx             # 路由配置
│   ├── pages                  # 页面目录
│   │   ├── DashboardPage.tsx # 仪表盘
│   │   ├── TasksPage.tsx     # 事务管理
│   │   ├── SchedulePage.tsx  # 时间表
│   │   ├── KnowledgePage.tsx # 知识收藏
│   │   ├── VideoTerminalPage.tsx # 私人终端 ⭐ 新增
│   │   ├── StatisticsPage.tsx# 学习统计
│   │   ├── SettingsPage.tsx  # 设置
│   │   ├── AdminPage.tsx     # 管理员面板
│   │   └── LoginPage.tsx     # 登录页面
│   └── types                  # 类型定义目录
│       └── types.ts          # TypeScript类型定义
├── supabase                   # Supabase配置目录
│   └── migrations            # 数据库迁移文件
├── tsconfig.app.json          # ts 前端配置文件
├── tsconfig.json              # ts 配置文件
├── tsconfig.node.json         # ts node端配置文件
└── vite.config.ts             # vite 配置文件
```

## 📚 项目文档

本项目提供完整的技术文档，帮助您快速了解和开发：

### 核心文档

1. **[README.md](./README.md)** - 项目说明文档（本文件）
   - 功能介绍
   - 使用说明
   - 技术栈
   - 快速开始

2. **[PRODUCT_INTRODUCTION.md](./PRODUCT_INTRODUCTION.md)** - 产品介绍文档 ⭐ 推荐
   - 完整的产品介绍
   - 核心功能详解
   - 应用场景实例
   - 产品愿景与规划
   - 用户价值与社会意义

3. **[PROJECT_STRUCTURE.md](./PROJECT_STRUCTURE.md)** - 项目结构文档
   - 完整的目录树结构
   - 核心模块详细说明
   - 数据库结构说明
   - 设计系统规范
   - 开发指南

4. **[CODE_DOCUMENTATION.md](./CODE_DOCUMENTATION.md)** - 完整代码文档
   - 所有核心代码文件
   - 配置文件详解
   - 类型定义完整代码
   - 数据库 API 实现
   - 页面组件代码
   - 数据库迁移 SQL

5. **[CODE_INDEX.md](./CODE_INDEX.md)** - 代码索引文档
   - 文件清单和统计
   - 快速查找指南
   - 代码复杂度分析
   - 开发建议

6. **[FEATURE_COVERAGE.md](./FEATURE_COVERAGE.md)** - 功能覆盖对照表
   - 产品愿景 vs 实现状态
   - 8大核心功能详细对照
   - 功能实现统计（100%覆盖）
   - 产品特色实现说明

7. **[TODO.md](./TODO.md)** - 任务清单
   - 开发任务记录
   - 功能完成情况
   - 注意事项

8. **[SECRETARY_FEATURE.md](./SECRETARY_FEATURE.md)** - 专属学习秘书功能文档 ✨ 最新
   - 秘书功能完整说明
   - 6种形象、5种性格、8套服装详解
   - 使用指南和操作步骤
   - 个性化互动示例
   - 技术实现说明
   - 未来扩展规划

9. **[DOCUMENTATION_INDEX.md](./DOCUMENTATION_INDEX.md)** - 文档导航中心
   - 所有文档的总索引
   - 按使用场景提供阅读建议
   - 文档统计和快速链接

### 文档使用建议

- **新手入门：** 先阅读 README.md，了解项目功能和使用方法
- **产品了解：** 查看 PRODUCT_INTRODUCTION.md 了解产品定位和价值
- **秘书功能：** 查看 SECRETARY_FEATURE.md 了解秘书定制功能 ✨
- **开发人员：** 查看 PROJECT_STRUCTURE.md 了解项目架构
- **代码查找：** 使用 CODE_INDEX.md 快速定位文件
- **代码参考：** 查看 CODE_DOCUMENTATION.md 获取完整代码
- **任务追踪：** 查看 TODO.md 了解开发进度

## 🎯 快速链接

### 开发相关
- [Supabase 文档](https://supabase.com/docs)
- [React 文档](https://react.dev/)
- [Tailwind CSS 文档](https://tailwindcss.com/docs)
- [shadcn/ui 文档](https://ui.shadcn.com/)

### 帮助文档
- [源码导出说明](https://cloud.baidu.com/doc/MIAODA/s/Xmewgmsq7)

## 🤝 贡献指南

欢迎提交问题和改进建议！

1. Fork 本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

## 📝 更新日志

### v1.0.0 (2025-12-17)

**新增功能：**
- ✨ 私人终端 - 视频推荐系统
- ✨ 根据专业智能推荐 Bilibili 学术视频
- ✨ 视频收藏和观看历史功能
- ✨ 专业标签管理（30+预置专业）
- ✨ 用户偏好设置

**优化改进：**
- 🎨 仪表盘添加视频推荐卡片
- 🎨 设置页面添加个人信息配置
- 🎨 设置页面添加视频偏好设置
- 🎨 优化空状态提示和引导
- 🎨 完善响应式布局

**核心功能：**
- ✅ 学生事务管理系统
- ✅ 智能时间表生成
- ✅ 知识点收藏与复习
- ✅ 学习数据统计分析
- ✅ 用户认证和权限管理
- ✅ 主题切换（亮色/暗色）

## 📄 许可证

本项目采用 MIT 许可证。

## 版权信息

© 2025 智学秘伴. All rights reserved.
